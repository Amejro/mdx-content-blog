{
  "title": "Wolfhunter: A PICO-8 RPG",
  "subtitle": "Implementing Pokemon-like combat mechanics in PICO-8.",
  "date": "2020-12-22T00:00:00.000Z",
  "body": {
    "raw": "\r\n- [Concept](#concept)\r\n- [Gameplay](#gameplay)\r\n  - [Core Mechanics](#core-mechanics)\r\n  - [Magic](#magic)\r\n  - [Items](#items)\r\n  - [Enemy](#enemy)\r\n- [Event Sequence](#event-sequence)\r\n  - [Sequence](#sequence)\r\n  - [Damage Event](#damage-event)\r\n  - [Sequence Control](#sequence-control)\r\n- [Items and Magic](#items-and-magic)\r\n- [Animation](#animation)\r\n- [Tools](#tools)\r\n- [Summary](#summary)\r\n\r\n\r\nIn a [previous post](./retro-games-with-pico-8) I talked about how making retro 8-bit games is a great way for fledgling developers to learn new things whilst expanding their portfolio.\r\n\r\nI recently gave it a go myself, making a small RPG combat game called \"Wolfhunter\".\r\n\r\nI spent two weekends on the project, which—despite my prior experience in games development—still managed to surprise me with some interesting challenges.\r\n\r\n[Source (GitHib)](https://github.com/pixegami/wolfhunter) | [Play the Game! (Web, Mobile)](https://pixegami.github.io/wolfhunter/)\r\n\r\n![images/wolfhunter_title](/images/wolfhunter_title.png)\r\n\r\n## Concept\r\n\r\nWolfhunter is an 8-bit RPG where you play as a hunter facing off against a werewolf, in a Pokemon-like combat sequence.\r\n\r\nYou have magic spells and single-use items at your disposal, but the wolf is very powerful. The only way to kill it is to weaken it with your attacks, then finish it off with a silver-knife (which you only have one shot at).\r\n\r\nIt is made with [PICO-8](https://www.lexaloffle.com/pico-8.php), and can be played directly in your browser [here](https://pixegami.github.io/wolfhunter/).\r\n\r\n> The motif and design of the game was based on the word \"Moonshot\", which was the theme of [GitHub's GameOff 2020 game jam](https://github.blog/2020-11-01-github-game-off-2020-theme-announcement/).\r\n\r\n## Gameplay\r\n\r\n![images/wolfhunter_gameplay](/images/wolfhunter_gameplay.gif)\r\n\r\nI set out to make a game loop that felt similar to the combat in [Pokemon Red/Blue](https://en.wikipedia.org/wiki/Pok%C3%A9mon_Red_and_Blue), which was the most popular title on the [original Nintendo Gameboy](https://en.wikipedia.org/wiki/Game_Boy).\r\n\r\nThe characters stand opposite each other, and take turns to fight. There's a bunch of other mechanics too, like strengths/weaknesses, status effects, and switching characters. Here's a scene from it:\r\n\r\n![images/pokemon_red_fight_scene](/images/pokemon_fight_scene.png)\r\n\r\nFor Wolfhunter, I copied the scene layout, the turn based fighting, and the status effects. I didn't have a chance to implement other aspects of Pokemon — so instead I doubled down on the mechanics I did implement.\r\n\r\n### Core Mechanics\r\n\r\nThe units take turns to fight. The game ends when one of the character's HP is reduced to 0.\r\n\r\nEach turn, the player has two basic abilities that can be used for free.\r\n\r\n| Ability | Effect                         |\r\n| ------- | ------------------------------ |\r\n| Attack  | Deal 15 damage.                |\r\n| Defend  | Blocks 15 damage for one turn. |\r\n\r\n### Magic\r\n\r\nThe basic abilities were good to establish some baseline gameplay, but not enough to be interesting. I also added '\"magic\", which costs **1 mana** to use (you start with **5 mana**, and cannot cast spells if you run out).\r\n\r\n| Spell    | Effect                                                                     |\r\n| -------- | -------------------------------------------------------------------------- |\r\n| Fireball | Deals 40 damage. Ignores defence.                                          |\r\n| Spark    | Deals 12 damage and **blinds** the enemy, causing the next attack to miss. |\r\n| Heal     | Recovers 35 HP and clears **bleed** effects.                               |\r\n\r\nMagic is more powerful than just attacking or defending, but are in limited supply, and designed to _interact/react_ against enemy abilities.\r\n\r\n### Items\r\n\r\nItems are even more powerful than magic, but only have **1 use** per fight.\r\n\r\n| Item         | Effect                                                    |\r\n| ------------ | --------------------------------------------------------- |\r\n| Crossbow     | Deals 25% of the enemy's HP as damage.                    |\r\n| Elixir       | Recover 5 mana.                                           |\r\n| Silver Knife | Deals 5 damage, but is the only way to kill the werewolf. |\r\n\r\n### Enemy\r\n\r\nFinally, to tie the gameplay together, the enemy must interact well with the player's abilities, and provide some kind of strategic challenge.\r\n\r\n| Ability       | Effect                                                                               |\r\n| ------------- | ------------------------------------------------------------------------------------ |\r\n| Ravage        | Deals 8 damage and causes **bleeding**.                                              |\r\n| Strong Defend | Blocks 20 damage for one turn.                                                       |\r\n| Dark Flight   | Skips a turn, then deals 64 damage.                                                  |\r\n| Raging Strike | Deals 18 damage but becomes **vulnerable** after, taking double damage for one turn. |\r\n\r\nThese enemy is strong, but the player has ways to mitigate each of its threats. Pretty much the point of the entire game here is figuring out what move to use next.\r\n\r\n## Event Sequence\r\n\r\nFrom an implementation standpoint, the most important part of the game is the \"event sequence\". This system will control how the game flows, and sets the framework for everything else to follow.\r\n\r\nI define an \"event\" as **something atomic that happens in the game**. It usually displays some description to the player, and requires the player to acknowledge. Examples:\r\n\r\n- A character uses an ability.\r\n- Damage is taken.\r\n- Character is defeated.\r\n- Turns switched.\r\n- Status effect is applied.\r\n\r\nThis is pretty much the back-bone of a turn-based system. Everything in the game—from the menu selection, to mana consumption, to damage/block resolution—can be modelled with events.\r\n\r\nAnd in this game, events are always sequential and happening in order. But new events can be added in the middle of the sequence—for example if an attack is blocked, we need a \"block\" event to resolve.\r\n\r\n![images/linked_list](/images/linked_list.jpg)\r\n\r\nThis is pretty much a [linked list](https://en.wikipedia.org/wiki/Linked_list), and that's how I implemented it. The events are the nodes. Additionally, when each event resolves, it can modify the nodes directly ahead of it, or at the tail of the list.\r\n\r\n### Sequence\r\n\r\nThis is pretty much a linked list implementation. We start it off with an `new_info_event` (display some text to the player) that says \"it's your turn to move.\"\r\n\r\nThe `head` of the sequence is the event we are currently processing in the game.\r\n\r\n```lua\r\nfunction new_sequence()\r\n\r\n  local first_event = new_info_event(\"it's your turn to move!\")\r\n  local sequence = {\r\n    head = first_event,\r\n    tail = first_event\r\n  }\r\n\r\n  -- move sequence cursor to the next event.\r\n  sequence.next = function(this)\r\n    this.head = this.head.next\r\n  end\r\n\r\n  -- add an event to the end of the sequence.\r\n  sequence.add = function(this, e)\r\n    this.tail.next = e\r\n    this.tail = e\r\n  end\r\n\r\n  -- add an event after the head of the sequence.\r\n  sequence.insert = function(this, e)\r\n    e:get_tail().next = this.head.next\r\n    this.head.next = e\r\n  end\r\n\r\n  return sequence\r\nend\r\n```\r\n\r\n### Damage Event\r\n\r\nHere's an example of an event that causes damage to a unit (character). The `action` is an anonymous function that executes _once_, when the event is processed.\r\n\r\nThis includes playing sound effects, animations, and actually modifying the HP values. In this case, if at run-time the damage causes a unit to die, then a `new_end_combat_event` is added to the sequence, along with a `new_info_event` to display some informative text to the player.\r\n\r\n```lua\r\nfunction new_damage_event(unit, value)\r\n\r\n  local desc = unit.name..\" takes \"..value..\" damage!\"\r\n  local dmg_event = new_event(\"damage\", desc, true)\r\n\r\n  dmg_event.action = function(this)\r\n    unit.hp -= value\r\n    unit:animate(new_hit_animation())\r\n    sfx(3)\r\n    if unit.hp <= 0 then\r\n      unit.hp = 0\r\n      sequence:insert(new_end_combat_event(unit.name))\r\n      sequence:insert(new_info_event(\"the fight has ended!\"))\r\n    end\r\n  end\r\n\r\n  return dmg_event\r\nend\r\n```\r\n\r\n### Sequence Control\r\n\r\nIn the `_update()` function of the game, we process the `head` event and show the appropriate information. Special event types, like `menu` will control what UI is shown.\r\n\r\nSome events (`auto`) will be processed immediately—but most will require interaction from the player to progress.\r\n\r\n```lua\r\n-- update the menu if we are showing one.\r\nif event.type == \"menu\" then combat_menu:update() end\r\nif event.type == \"magic\" then magic_menu:update() end\r\nif event.type == \"items\" then items_menu:update() end\r\n\r\n-- each time we press x, the sequence progresses.\r\nif btnp(5) or event.type == \"auto\" then sequence:next() end\r\nif btnp(5) and (event.type == \"info\" or event.type == \"damage\") then sfx(1) end\r\n```\r\n\r\n## Items and Magic\r\n\r\nI think items and magic are an interesting one. Instead of being their own event types, I think it was a good chance to apply the [decorator pattern](https://en.wikipedia.org/wiki/Decorator_pattern).\r\n\r\nThat's because items and magic can be thought of as regular abilities—wrapped with some extra conditions!\r\n\r\nNamely—we want to wrap the concept of **mana consumption** onto magic, and **single-use** onto items. Aside from those things, they still do anything else an ability can do. So what I'm after here, is a function that can take in an **ability** (an arbitrary event), and turn it into a magic spell, or an item.\r\n\r\nConsider we have this 'heal' event. As is, this will recover 35 HP, and doesn't have any other cost or conditions associated with it.\r\n\r\n```lua\r\nfunction new_heal_event(name, unit, value)\r\n -- restore 35 hp!\r\nend\r\n```\r\n\r\nNow, I have a decorator function, which accepts an `event`, and adds mana usage to it.\r\n\r\n```lua\r\n-- wrap an event as a spell, so it costs mana to use.\r\nfunction as_spell(unit, event)\r\n  local spell_event = new_event(\"auto\", \"\", true)\r\n  spell_event.action = function(this)\r\n    if unit.mana > 0 then\r\n      unit.mana -= 1\r\n      sequence:insert(event)\r\n    else\r\n      sequence:insert(new_event(\"menu\"))\r\n      sequence:insert(new_info_event(\"you don't have enough mana to cast this spell.\"))\r\n    end\r\n  end\r\n  return spell_event\r\nend\r\n```\r\n\r\nThis will check if I have **enough mana** to use this event—and either cast the spell and deplete the mana, or cancel the event and inform me that I don't have enough mana.\r\n\r\nNow I can wrap my `heal` event with `as_spell` and turn it into a magic spell!\r\n\r\n```lua\r\nas_spell(unit, new_heal_event(event_id, unit, 35))\r\n```\r\n\r\n## Animation\r\n\r\n[PICO-8](https://www.lexaloffle.com/pico-8.php) doesn't really give us an animation framework. We can draw sprites at arbitrary locations and change some colour palettes, but aside from that—we're pretty much on our own.\r\n\r\nThankfully, in a turn-based RPG, the animations aren't very complex. I have 'units' on two corners of the screen, and they flicker and bounce around a bit when hit.\r\n\r\nTo achieve, this, assume we have a `unit` object with some `x` and `y` position—its absolute position on the screen.\r\n\r\n```lua\r\nfunction draw_unit(unit)\r\n  local x = 128 - spr_size\r\n  local y = 0\r\n\r\n  -- draw the unit\r\n  spr(1, x, y)\r\nend\r\n```\r\n\r\nI can move the unit by changing `x` and `y`, but what if I cancel an animation half way through? I don't want the animation state to be 'baked' into the unit's actual position, because it will be harder for me to reset it.\r\n\r\nMy solution was to create an 'animation' object, which keeps an independent frame count `n` and transformation `x, y`, which can be then _applied_ to the unit at render time.\r\n\r\n```lua\r\nfunction new_animation()\r\n  local animation = {\r\n    name = \"default\",\r\n    n = 0,\r\n    frames_left = 15,\r\n    x = 0,\r\n    y = 0,\r\n    color = 0,\r\n  }\r\n}\r\n```\r\n\r\nNow each update, we can also `update()` the animation and apply its transform to the unit. If the animation runs out of frames, it will disappear and things will be back to normal.\r\n\r\n```lua\r\n-- apply unit animation\r\nif unit.animation then\r\n    unit.animation:update(x, y)\r\n    anim_spr_x = x + unit.animation.x\r\n    anim_spr_y = y + unit.animation.y\r\n    if unit.animation:has_ended() then unit.animation = nil end\r\nend\r\n\r\n-- draw the unit\r\nspr(1, anim_spr_x, anim_spr_y)\r\n```\r\n\r\nHowever, we can also just cancel the animation at any time we want, no matter what frame it is on. This gave me a lot of modular control over the animation, but also prevented any part of the animation system having an impact on the logical game state.\r\n\r\n## Tools\r\n\r\nHere's some of the main tools/software I used for the job.\r\n\r\n- [PICO-8](https://www.lexaloffle.com/pico-8.php): Virtual console, and framework to develop and run the game.\r\n- [VSCode](https://code.visualstudio.com/): Code editor.\r\n- [Pixaki](https://rizer.co/): iPad pixel art editor to draw and touch up the sprites (which to be honest, I mostly traced from Pokemon).\r\n\r\n## Summary\r\n\r\nThat pretty much sums up my experience of implementing RPG combat in [PICO-8](https://www.lexaloffle.com/pico-8.php). Even with the lo-fi, 80's era constraints, I found that the core problems—like game design and event modelling—are still timeless.\r\n\r\nWith a bit of work, I think it'd be possible to implement a more Pokemon-like RPG in PICO-8, but probably on a smaller scale, because of the memory and size limits (I was almost at 30% capacity with just this).\r\n\r\nAt some point though, dealing with over 1,000 lines of code in a single `lua` run-time becomes unwieldy. So whilst something like [Unity](https://unity.com/) is better suited for serious projects, PICO-8 is still a great way to learn and prototype ideas.\r\n\r\n> Wolfhunter's [source code](https://github.com/pixegami/wolfhunter) is public, and you can play the game directly in the browser (both web and mobile) [here](https://pixegami.github.io/wolfhunter/).\r\n",
    "code": "var Component=(()=>{var fn=Object.create;var P=Object.defineProperty;var sn=Object.getOwnPropertyDescriptor;var an=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,cn=Object.prototype.hasOwnProperty;var L=(s,n)=>()=>(n||s((n={exports:{}}).exports,n),n.exports),bn=(s,n)=>{for(var h in n)P(s,h,{get:n[h],enumerable:!0})},ye=(s,n,h,g)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let N of an(n))!cn.call(s,N)&&N!==h&&P(s,N,{get:()=>n[N],enumerable:!(g=sn(n,N))||g.enumerable});return s};var _n=(s,n,h)=>(h=s!=null?fn(un(s)):{},ye(n||!s||!s.__esModule?P(h,\"default\",{value:s,enumerable:!0}):h,s)),hn=s=>ye(P({},\"__esModule\",{value:!0}),s);var ve=L((kn,ke)=>{ke.exports=React});var Ce=L(H=>{\"use strict\";(function(){\"use strict\";var s=ve(),n=Symbol.for(\"react.element\"),h=Symbol.for(\"react.portal\"),g=Symbol.for(\"react.fragment\"),N=Symbol.for(\"react.strict_mode\"),B=Symbol.for(\"react.profiler\"),z=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),A=Symbol.for(\"react.forward_ref\"),S=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),w=Symbol.for(\"react.memo\"),O=Symbol.for(\"react.lazy\"),we=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Ue=\"@@iterator\";function Ke(e){if(e===null||typeof e!=\"object\")return null;var d=J&&e[J]||e[Ue];return typeof d==\"function\"?d:null}var k=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function c(e){{for(var d=arguments.length,r=new Array(d>1?d-1:0),o=1;o<d;o++)r[o-1]=arguments[o];Ee(\"error\",e,r)}}function Ee(e,d,r){{var o=k.ReactDebugCurrentFrame,m=o.getStackAddendum();m!==\"\"&&(d+=\"%s\",r=r.concat([m]));var f=r.map(function(l){return String(l)});f.unshift(\"Warning: \"+d),Function.prototype.apply.call(console[e],console,f)}}var Re=!1,Te=!1,Pe=!1,Se=!1,Ie=!1,Z;Z=Symbol.for(\"react.module.reference\");function Oe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===g||e===B||Ie||e===N||e===S||e===I||Se||e===we||Re||Te||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===O||e.$$typeof===w||e.$$typeof===z||e.$$typeof===X||e.$$typeof===A||e.$$typeof===Z||e.getModuleId!==void 0))}function qe(e,d,r){var o=e.displayName;if(o)return o;var m=d.displayName||d.name||\"\";return m!==\"\"?r+\"(\"+m+\")\":r}function Q(e){return e.displayName||\"Context\"}function p(e){if(e==null)return null;if(typeof e.tag==\"number\"&&c(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case g:return\"Fragment\";case h:return\"Portal\";case B:return\"Profiler\";case N:return\"StrictMode\";case S:return\"Suspense\";case I:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var d=e;return Q(d)+\".Consumer\";case z:var r=e;return Q(r._context)+\".Provider\";case A:return qe(e,e.render,\"ForwardRef\");case w:var o=e.displayName||null;return o!==null?o:p(e.type)||\"Memo\";case O:{var m=e,f=m._payload,l=m._init;try{return p(l(f))}catch{return null}}}return null}var y=Object.assign,j=0,ee,ne,te,de,re,oe,ie;function le(){}le.__reactDisabledLog=!0;function Fe(){{if(j===0){ee=console.log,ne=console.info,te=console.warn,de=console.error,re=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}j++}}function We(){{if(j--,j===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:y({},e,{value:ee}),info:y({},e,{value:ne}),warn:y({},e,{value:te}),error:y({},e,{value:de}),group:y({},e,{value:re}),groupCollapsed:y({},e,{value:oe}),groupEnd:y({},e,{value:ie})})}j<0&&c(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var q=k.ReactCurrentDispatcher,F;function U(e,d,r){{if(F===void 0)try{throw Error()}catch(m){var o=m.stack.trim().match(/\\n( *(at )?)/);F=o&&o[1]||\"\"}return`\n`+F+e}}var W=!1,K;{var Me=typeof WeakMap==\"function\"?WeakMap:Map;K=new Me}function me(e,d){if(!e||W)return\"\";{var r=K.get(e);if(r!==void 0)return r}var o;W=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var f;f=q.current,q.current=null,Fe();try{if(d){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(x){o=x}Reflect.construct(e,[],l)}else{try{l.call()}catch(x){o=x}e.call(l.prototype)}}else{try{throw Error()}catch(x){o=x}e()}}catch(x){if(x&&o&&typeof x.stack==\"string\"){for(var i=x.stack.split(`\n`),b=o.stack.split(`\n`),a=i.length-1,u=b.length-1;a>=1&&u>=0&&i[a]!==b[u];)u--;for(;a>=1&&u>=0;a--,u--)if(i[a]!==b[u]){if(a!==1||u!==1)do if(a--,u--,u<0||i[a]!==b[u]){var _=`\n`+i[a].replace(\" at new \",\" at \");return e.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&K.set(e,_),_}while(a>=1&&u>=0);break}}}finally{W=!1,q.current=f,We(),Error.prepareStackTrace=m}var C=e?e.displayName||e.name:\"\",ge=C?U(C):\"\";return typeof e==\"function\"&&K.set(e,ge),ge}function Ye(e,d,r){return me(e,!1)}function $e(e){var d=e.prototype;return!!(d&&d.isReactComponent)}function E(e,d,r){if(e==null)return\"\";if(typeof e==\"function\")return me(e,$e(e));if(typeof e==\"string\")return U(e);switch(e){case S:return U(\"Suspense\");case I:return U(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case A:return Ye(e.render);case w:return E(e.type,d,r);case O:{var o=e,m=o._payload,f=o._init;try{return E(f(m),d,r)}catch{}}}return\"\"}var R=Object.prototype.hasOwnProperty,fe={},se=k.ReactDebugCurrentFrame;function T(e){if(e){var d=e._owner,r=E(e.type,e._source,d?d.type:null);se.setExtraStackFrame(r)}else se.setExtraStackFrame(null)}function Ve(e,d,r,o,m){{var f=Function.call.bind(R);for(var l in e)if(f(e,l)){var i=void 0;try{if(typeof e[l]!=\"function\"){var b=Error((o||\"React class\")+\": \"+r+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}i=e[l](d,l,o,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(a){i=a}i&&!(i instanceof Error)&&(T(m),c(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",r,l,typeof i),T(null)),i instanceof Error&&!(i.message in fe)&&(fe[i.message]=!0,T(m),c(\"Failed %s type: %s\",r,i.message),T(null))}}}var Ge=Array.isArray;function M(e){return Ge(e)}function Le(e){{var d=typeof Symbol==\"function\"&&Symbol.toStringTag,r=d&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function He(e){try{return ae(e),!1}catch{return!0}}function ae(e){return\"\"+e}function ue(e){if(He(e))return c(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Le(e)),ae(e)}var D=k.ReactCurrentOwner,Be={key:!0,ref:!0,__self:!0,__source:!0},ce,be,Y;Y={};function ze(e){if(R.call(e,\"ref\")){var d=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(d&&d.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(R.call(e,\"key\")){var d=Object.getOwnPropertyDescriptor(e,\"key\").get;if(d&&d.isReactWarning)return!1}return e.key!==void 0}function Je(e,d){if(typeof e.ref==\"string\"&&D.current&&d&&D.current.stateNode!==d){var r=p(D.current.type);Y[r]||(c('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(D.current.type),e.ref),Y[r]=!0)}}function Ze(e,d){{var r=function(){ce||(ce=!0,c(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",d))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function Qe(e,d){{var r=function(){be||(be=!0,c(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",d))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var en=function(e,d,r,o,m,f,l){var i={$$typeof:n,type:e,key:d,ref:r,props:l,_owner:f};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:m}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,d,r,o,m){{var f,l={},i=null,b=null;r!==void 0&&(ue(r),i=\"\"+r),Xe(d)&&(ue(d.key),i=\"\"+d.key),ze(d)&&(b=d.ref,Je(d,m));for(f in d)R.call(d,f)&&!Be.hasOwnProperty(f)&&(l[f]=d[f]);if(e&&e.defaultProps){var a=e.defaultProps;for(f in a)l[f]===void 0&&(l[f]=a[f])}if(i||b){var u=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(l,u),b&&Qe(l,u)}return en(e,i,b,m,o,D.current,l)}}var $=k.ReactCurrentOwner,_e=k.ReactDebugCurrentFrame;function v(e){if(e){var d=e._owner,r=E(e.type,e._source,d?d.type:null);_e.setExtraStackFrame(r)}else _e.setExtraStackFrame(null)}var V;V=!1;function G(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function he(){{if($.current){var e=p($.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var d=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+d+\":\"+r+\".\"}return\"\"}}var pe={};function dn(e){{var d=he();if(!d){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(d=`\n\nCheck the top-level render call using <`+r+\">.\")}return d}}function xe(e,d){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=dn(d);if(pe[r])return;pe[r]=!0;var o=\"\";e&&e._owner&&e._owner!==$.current&&(o=\" It was passed a child from \"+p(e._owner.type)+\".\"),v(e),c('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,o),v(null)}}function Ne(e,d){{if(typeof e!=\"object\")return;if(M(e))for(var r=0;r<e.length;r++){var o=e[r];G(o)&&xe(o,d)}else if(G(e))e._store&&(e._store.validated=!0);else if(e){var m=Ke(e);if(typeof m==\"function\"&&m!==e.entries)for(var f=m.call(e),l;!(l=f.next()).done;)G(l.value)&&xe(l.value,d)}}}function rn(e){{var d=e.type;if(d==null||typeof d==\"string\")return;var r;if(typeof d==\"function\")r=d.propTypes;else if(typeof d==\"object\"&&(d.$$typeof===A||d.$$typeof===w))r=d.propTypes;else return;if(r){var o=p(d);Ve(r,e.props,\"prop\",o,e)}else if(d.PropTypes!==void 0&&!V){V=!0;var m=p(d);c(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",m||\"Unknown\")}typeof d.getDefaultProps==\"function\"&&!d.getDefaultProps.isReactClassApproved&&c(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var d=Object.keys(e.props),r=0;r<d.length;r++){var o=d[r];if(o!==\"children\"&&o!==\"key\"){v(e),c(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),v(null);break}}e.ref!==null&&(v(e),c(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),v(null))}}function ln(e,d,r,o,m,f){{var l=Oe(e);if(!l){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=tn(m);b?i+=b:i+=he();var a;e===null?a=\"null\":M(e)?a=\"array\":e!==void 0&&e.$$typeof===n?(a=\"<\"+(p(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):a=typeof e,c(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",a,i)}var u=nn(e,d,r,m,f);if(u==null)return u;if(l){var _=d.children;if(_!==void 0)if(o)if(M(_)){for(var C=0;C<_.length;C++)Ne(_[C],e);Object.freeze&&Object.freeze(_)}else c(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else Ne(_,e)}return e===g?on(u):rn(u),u}}var mn=ln;H.Fragment=g,H.jsxDEV=mn})()});var De=L((Cn,je)=>{\"use strict\";je.exports=Ce()});var gn={};bn(gn,{default:()=>Nn,frontmatter:()=>pn});var t=_n(De()),pn={title:\"Wolfhunter: A PICO-8 RPG\",subtitle:\"Implementing Pokemon-like combat mechanics in PICO-8.\",date:\"2020-12-22\"};function Ae(s){let n=Object.assign({ul:\"ul\",li:\"li\",a:\"a\",p:\"p\",img:\"img\",h2:\"h2\",blockquote:\"blockquote\",h3:\"h3\",strong:\"strong\",em:\"em\",code:\"code\",pre:\"pre\"},s.components);return(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#concept\",children:\"Concept\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:7,columnNumber:3},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[(0,t.jsxDEV)(n.a,{href:\"#gameplay\",children:\"Gameplay\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:8,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#core-mechanics\",children:\"Core Mechanics\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:9,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:9,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#magic\",children:\"Magic\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:10,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:10,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#items\",children:\"Items\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:11,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:11,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#enemy\",children:\"Enemy\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:12,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:12,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:9,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:8,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[(0,t.jsxDEV)(n.a,{href:\"#event-sequence\",children:\"Event Sequence\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:13,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#sequence\",children:\"Sequence\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:14,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:14,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#damage-event\",children:\"Damage Event\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:15,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:15,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#sequence-control\",children:\"Sequence Control\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:16,columnNumber:5},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:16,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:14,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:13,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#items-and-magic\",children:\"Items and Magic\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:17,columnNumber:3},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#animation\",children:\"Animation\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:18,columnNumber:3},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#tools\",children:\"Tools\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:19,columnNumber:3},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:(0,t.jsxDEV)(n.a,{href:\"#summary\",children:\"Summary\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:20,columnNumber:3},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:20,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:7,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In a \",(0,t.jsxDEV)(n.a,{href:\"./retro-games-with-pico-8\",children:\"previous post\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:23,columnNumber:6},this),\" I talked about how making retro 8-bit games is a great way for fledgling developers to learn new things whilst expanding their portfolio.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:'I recently gave it a go myself, making a small RPG combat game called \"Wolfhunter\".'},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I spent two weekends on the project, which\\u2014despite my prior experience in games development\\u2014still managed to surprise me with some interesting challenges.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[(0,t.jsxDEV)(n.a,{href:\"https://github.com/pixegami/wolfhunter\",children:\"Source (GitHib)\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:29,columnNumber:1},this),\" | \",(0,t.jsxDEV)(n.a,{href:\"https://pixegami.github.io/wolfhunter/\",children:\"Play the Game! (Web, Mobile)\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:29,columnNumber:61},this)]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.img,{src:\"/images/wolfhunter_title.png\",alt:\"images/wolfhunter_title\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:31,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Concept\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Wolfhunter is an 8-bit RPG where you play as a hunter facing off against a werewolf, in a Pokemon-like combat sequence.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"You have magic spells and single-use items at your disposal, but the wolf is very powerful. The only way to kill it is to weaken it with your attacks, then finish it off with a silver-knife (which you only have one shot at).\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"It is made with \",(0,t.jsxDEV)(n.a,{href:\"https://www.lexaloffle.com/pico-8.php\",children:\"PICO-8\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:39,columnNumber:17},this),\", and can be played directly in your browser \",(0,t.jsxDEV)(n.a,{href:\"https://pixegami.github.io/wolfhunter/\",children:\"here\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:39,columnNumber:109},this),\".\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.blockquote,{children:[`\n`,(0,t.jsxDEV)(n.p,{children:['The motif and design of the game was based on the word \"Moonshot\", which was the theme of ',(0,t.jsxDEV)(n.a,{href:\"https://github.blog/2020-11-01-github-game-off-2020-theme-announcement/\",children:\"GitHub's GameOff 2020 game jam\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:41,columnNumber:93},this),\".\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:41,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Gameplay\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.img,{src:\"/images/wolfhunter_gameplay.gif\",alt:\"images/wolfhunter_gameplay\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:45,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"I set out to make a game loop that felt similar to the combat in \",(0,t.jsxDEV)(n.a,{href:\"https://en.wikipedia.org/wiki/Pok%C3%A9mon_Red_and_Blue\",children:\"Pokemon Red/Blue\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:47,columnNumber:66},this),\", which was the most popular title on the \",(0,t.jsxDEV)(n.a,{href:\"https://en.wikipedia.org/wiki/Game_Boy\",children:\"original Nintendo Gameboy\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:47,columnNumber:183},this),\".\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The characters stand opposite each other, and take turns to fight. There's a bunch of other mechanics too, like strengths/weaknesses, status effects, and switching characters. Here's a scene from it:\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.img,{src:\"/images/pokemon_fight_scene.png\",alt:\"images/pokemon_red_fight_scene\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:51,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"For Wolfhunter, I copied the scene layout, the turn based fighting, and the status effects. I didn't have a chance to implement other aspects of Pokemon \\u2014 so instead I doubled down on the mechanics I did implement.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Core Mechanics\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The units take turns to fight. The game ends when one of the character's HP is reduced to 0.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Each turn, the player has two basic abilities that can be used for free.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:`| Ability | Effect                         |\\r\n| ------- | ------------------------------ |\\r\n| Attack  | Deal 15 damage.                |\\r\n| Defend  | Blocks 15 damage for one turn. |`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Magic\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[`The basic abilities were good to establish some baseline gameplay, but not enough to be interesting. I also added '\"magic\", which costs `,(0,t.jsxDEV)(n.strong,{children:\"1 mana\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:68,columnNumber:137},this),\" to use (you start with \",(0,t.jsxDEV)(n.strong,{children:\"5 mana\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:68,columnNumber:171},this),\", and cannot cast spells if you run out).\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[`| Spell    | Effect                                                                     |\\r\n| -------- | -------------------------------------------------------------------------- |\\r\n| Fireball | Deals 40 damage. Ignores defence.                                          |\\r\n| Spark    | Deals 12 damage and `,(0,t.jsxDEV)(n.strong,{children:\"blinds\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:73,columnNumber:34},this),` the enemy, causing the next attack to miss. |\\r\n| Heal     | Recovers 35 HP and clears `,(0,t.jsxDEV)(n.strong,{children:\"bleed\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:74,columnNumber:40},this),\" effects.                               |\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Magic is more powerful than just attacking or defending, but are in limited supply, and designed to \",(0,t.jsxDEV)(n.em,{children:\"interact/react\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:76,columnNumber:101},this),\" against enemy abilities.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:76,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Items\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Items are even more powerful than magic, but only have \",(0,t.jsxDEV)(n.strong,{children:\"1 use\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:80,columnNumber:56},this),\" per fight.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:80,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:`| Item         | Effect                                                    |\\r\n| ------------ | --------------------------------------------------------- |\\r\n| Crossbow     | Deals 25% of the enemy's HP as damage.                    |\\r\n| Elixir       | Recover 5 mana.                                           |\\r\n| Silver Knife | Deals 5 damage, but is the only way to kill the werewolf. |`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:82,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Enemy\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:88,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Finally, to tie the gameplay together, the enemy must interact well with the player's abilities, and provide some kind of strategic challenge.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[`| Ability       | Effect                                                                               |\\r\n| ------------- | ------------------------------------------------------------------------------------ |\\r\n| Ravage        | Deals 8 damage and causes `,(0,t.jsxDEV)(n.strong,{children:\"bleeding\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:94,columnNumber:45},this),`.                                              |\\r\n| Strong Defend | Blocks 20 damage for one turn.                                                       |\\r\n| Dark Flight   | Skips a turn, then deals 64 damage.                                                  |\\r\n| Raging Strike | Deals 18 damage but becomes `,(0,t.jsxDEV)(n.strong,{children:\"vulnerable\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:97,columnNumber:47},this),\" after, taking double damage for one turn. |\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:92,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"These enemy is strong, but the player has ways to mitigate each of its threats. Pretty much the point of the entire game here is figuring out what move to use next.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Event Sequence\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:'From an implementation standpoint, the most important part of the game is the \"event sequence\". This system will control how the game flows, and sets the framework for everything else to follow.'},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:['I define an \"event\" as ',(0,t.jsxDEV)(n.strong,{children:\"something atomic that happens in the game\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:105,columnNumber:24},this),\". It usually displays some description to the player, and requires the player to acknowledge. Examples:\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"A character uses an ability.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:107,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"Damage is taken.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:108,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"Character is defeated.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:109,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"Turns switched.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:110,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"Status effect is applied.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:111,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:107,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This is pretty much the back-bone of a turn-based system. Everything in the game\\u2014from the menu selection, to mana consumption, to damage/block resolution\\u2014can be modelled with events.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:113,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:'And in this game, events are always sequential and happening in order. But new events can be added in the middle of the sequence\\u2014for example if an attack is blocked, we need a \"block\" event to resolve.'},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.img,{src:\"/images/linked_list.jpg\",alt:\"images/linked_list\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:117,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:117,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This is pretty much a \",(0,t.jsxDEV)(n.a,{href:\"https://en.wikipedia.org/wiki/Linked_list\",children:\"linked list\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:119,columnNumber:23},this),\", and that's how I implemented it. The events are the nodes. Additionally, when each event resolves, it can modify the nodes directly ahead of it, or at the tail of the list.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Sequence\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This is pretty much a linked list implementation. We start it off with an \",(0,t.jsxDEV)(n.code,{children:\"new_info_event\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:123,columnNumber:75},this),` (display some text to the player) that says \"it's your turn to move.\"`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"The \",(0,t.jsxDEV)(n.code,{children:\"head\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:125,columnNumber:5},this),\" of the sequence is the event we are currently processing in the game.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`function new_sequence()\\r\n\\r\n  local first_event = new_info_event(\"it's your turn to move!\")\\r\n  local sequence = {\\r\n    head = first_event,\\r\n    tail = first_event\\r\n  }\\r\n\\r\n  -- move sequence cursor to the next event.\\r\n  sequence.next = function(this)\\r\n    this.head = this.head.next\\r\n  end\\r\n\\r\n  -- add an event to the end of the sequence.\\r\n  sequence.add = function(this, e)\\r\n    this.tail.next = e\\r\n    this.tail = e\\r\n  end\\r\n\\r\n  -- add an event after the head of the sequence.\\r\n  sequence.insert = function(this, e)\\r\n    e:get_tail().next = this.head.next\\r\n    this.head.next = e\\r\n  end\\r\n\\r\n  return sequence\\r\nend\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:127,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Damage Event\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Here's an example of an event that causes damage to a unit (character). The \",(0,t.jsxDEV)(n.code,{children:\"action\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:159,columnNumber:77},this),\" is an anonymous function that executes \",(0,t.jsxDEV)(n.em,{children:\"once\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:159,columnNumber:125},this),\", when the event is processed.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:159,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This includes playing sound effects, animations, and actually modifying the HP values. In this case, if at run-time the damage causes a unit to die, then a \",(0,t.jsxDEV)(n.code,{children:\"new_end_combat_event\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:161,columnNumber:157},this),\" is added to the sequence, along with a \",(0,t.jsxDEV)(n.code,{children:\"new_info_event\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:161,columnNumber:219},this),\" to display some informative text to the player.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:161,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`function new_damage_event(unit, value)\\r\n\\r\n  local desc = unit.name..\" takes \"..value..\" damage!\"\\r\n  local dmg_event = new_event(\"damage\", desc, true)\\r\n\\r\n  dmg_event.action = function(this)\\r\n    unit.hp -= value\\r\n    unit:animate(new_hit_animation())\\r\n    sfx(3)\\r\n    if unit.hp <= 0 then\\r\n      unit.hp = 0\\r\n      sequence:insert(new_end_combat_event(unit.name))\\r\n      sequence:insert(new_info_event(\"the fight has ended!\"))\\r\n    end\\r\n  end\\r\n\\r\n  return dmg_event\\r\nend\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:163,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:163,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{children:\"Sequence Control\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:184,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In the \",(0,t.jsxDEV)(n.code,{children:\"_update()\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:186,columnNumber:8},this),\" function of the game, we process the \",(0,t.jsxDEV)(n.code,{children:\"head\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:186,columnNumber:57},this),\" event and show the appropriate information. Special event types, like \",(0,t.jsxDEV)(n.code,{children:\"menu\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:186,columnNumber:134},this),\" will control what UI is shown.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:186,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Some events (\",(0,t.jsxDEV)(n.code,{children:\"auto\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:188,columnNumber:14},this),\") will be processed immediately\\u2014but most will require interaction from the player to progress.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:188,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`-- update the menu if we are showing one.\\r\nif event.type == \"menu\" then combat_menu:update() end\\r\nif event.type == \"magic\" then magic_menu:update() end\\r\nif event.type == \"items\" then items_menu:update() end\\r\n\\r\n-- each time we press x, the sequence progresses.\\r\nif btnp(5) or event.type == \"auto\" then sequence:next() end\\r\nif btnp(5) and (event.type == \"info\" or event.type == \"damage\") then sfx(1) end\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:190,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:190,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Items and Magic\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:201,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"I think items and magic are an interesting one. Instead of being their own event types, I think it was a good chance to apply the \",(0,t.jsxDEV)(n.a,{href:\"https://en.wikipedia.org/wiki/Decorator_pattern\",children:\"decorator pattern\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:203,columnNumber:131},this),\".\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:203,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"That's because items and magic can be thought of as regular abilities\\u2014wrapped with some extra conditions!\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:205,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Namely\\u2014we want to wrap the concept of \",(0,t.jsxDEV)(n.strong,{children:\"mana consumption\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:207,columnNumber:39},this),\" onto magic, and \",(0,t.jsxDEV)(n.strong,{children:\"single-use\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:207,columnNumber:76},this),\" onto items. Aside from those things, they still do anything else an ability can do. So what I'm after here, is a function that can take in an \",(0,t.jsxDEV)(n.strong,{children:\"ability\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:207,columnNumber:233},this),\" (an arbitrary event), and turn it into a magic spell, or an item.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:207,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Consider we have this 'heal' event. As is, this will recover 35 HP, and doesn't have any other cost or conditions associated with it.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:209,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`function new_heal_event(name, unit, value)\\r\n -- restore 35 hp!\\r\nend\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:211,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:211,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Now, I have a decorator function, which accepts an \",(0,t.jsxDEV)(n.code,{children:\"event\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:217,columnNumber:52},this),\", and adds mana usage to it.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:217,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`-- wrap an event as a spell, so it costs mana to use.\\r\nfunction as_spell(unit, event)\\r\n  local spell_event = new_event(\"auto\", \"\", true)\\r\n  spell_event.action = function(this)\\r\n    if unit.mana > 0 then\\r\n      unit.mana -= 1\\r\n      sequence:insert(event)\\r\n    else\\r\n      sequence:insert(new_event(\"menu\"))\\r\n      sequence:insert(new_info_event(\"you don't have enough mana to cast this spell.\"))\\r\n    end\\r\n  end\\r\n  return spell_event\\r\nend\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:219,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:219,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This will check if I have \",(0,t.jsxDEV)(n.strong,{children:\"enough mana\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:236,columnNumber:27},this),\" to use this event\\u2014and either cast the spell and deplete the mana, or cancel the event and inform me that I don't have enough mana.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:236,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Now I can wrap my \",(0,t.jsxDEV)(n.code,{children:\"heal\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:238,columnNumber:19},this),\" event with \",(0,t.jsxDEV)(n.code,{children:\"as_spell\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:238,columnNumber:37},this),\" and turn it into a magic spell!\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:238,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`as_spell(unit, new_heal_event(event_id, unit, 35))\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:240,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:240,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Animation\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:244,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[(0,t.jsxDEV)(n.a,{href:\"https://www.lexaloffle.com/pico-8.php\",children:\"PICO-8\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:246,columnNumber:1},this),\" doesn't really give us an animation framework. We can draw sprites at arbitrary locations and change some colour palettes, but aside from that\\u2014we're pretty much on our own.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:246,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Thankfully, in a turn-based RPG, the animations aren't very complex. I have 'units' on two corners of the screen, and they flicker and bounce around a bit when hit.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:248,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"To achieve, this, assume we have a \",(0,t.jsxDEV)(n.code,{children:\"unit\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:250,columnNumber:36},this),\" object with some \",(0,t.jsxDEV)(n.code,{children:\"x\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:250,columnNumber:60},this),\" and \",(0,t.jsxDEV)(n.code,{children:\"y\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:250,columnNumber:68},this),\" position\\u2014its absolute position on the screen.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:250,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`function draw_unit(unit)\\r\n  local x = 128 - spr_size\\r\n  local y = 0\\r\n\\r\n  -- draw the unit\\r\n  spr(1, x, y)\\r\nend\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:252,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:252,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"I can move the unit by changing \",(0,t.jsxDEV)(n.code,{children:\"x\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:262,columnNumber:33},this),\" and \",(0,t.jsxDEV)(n.code,{children:\"y\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:262,columnNumber:41},this),\", but what if I cancel an animation half way through? I don't want the animation state to be 'baked' into the unit's actual position, because it will be harder for me to reset it.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:262,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"My solution was to create an 'animation' object, which keeps an independent frame count \",(0,t.jsxDEV)(n.code,{children:\"n\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:264,columnNumber:89},this),\" and transformation \",(0,t.jsxDEV)(n.code,{children:\"x, y\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:264,columnNumber:112},this),\", which can be then \",(0,t.jsxDEV)(n.em,{children:\"applied\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:264,columnNumber:138},this),\" to the unit at render time.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:264,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`function new_animation()\\r\n  local animation = {\\r\n    name = \"default\",\\r\n    n = 0,\\r\n    frames_left = 15,\\r\n    x = 0,\\r\n    y = 0,\\r\n    color = 0,\\r\n  }\\r\n}\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:266,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:266,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Now each update, we can also \",(0,t.jsxDEV)(n.code,{children:\"update()\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:279,columnNumber:30},this),\" the animation and apply its transform to the unit. If the animation runs out of frames, it will disappear and things will be back to normal.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:279,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-lua\",children:`-- apply unit animation\\r\nif unit.animation then\\r\n    unit.animation:update(x, y)\\r\n    anim_spr_x = x + unit.animation.x\\r\n    anim_spr_y = y + unit.animation.y\\r\n    if unit.animation:has_ended() then unit.animation = nil end\\r\nend\\r\n\\r\n-- draw the unit\\r\nspr(1, anim_spr_x, anim_spr_y)\n`},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:281,columnNumber:1},this)},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:281,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"However, we can also just cancel the animation at any time we want, no matter what frame it is on. This gave me a lot of modular control over the animation, but also prevented any part of the animation system having an impact on the logical game state.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:294,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Tools\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:296,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Here's some of the main tools/software I used for the job.\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:298,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[(0,t.jsxDEV)(n.a,{href:\"https://www.lexaloffle.com/pico-8.php\",children:\"PICO-8\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:300,columnNumber:3},this),\": Virtual console, and framework to develop and run the game.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:300,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[(0,t.jsxDEV)(n.a,{href:\"https://code.visualstudio.com/\",children:\"VSCode\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:301,columnNumber:3},this),\": Code editor.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:301,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[(0,t.jsxDEV)(n.a,{href:\"https://rizer.co/\",children:\"Pixaki\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:302,columnNumber:3},this),\": iPad pixel art editor to draw and touch up the sprites (which to be honest, I mostly traced from Pokemon).\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:302,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:300,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{children:\"Summary\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:304,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"That pretty much sums up my experience of implementing RPG combat in \",(0,t.jsxDEV)(n.a,{href:\"https://www.lexaloffle.com/pico-8.php\",children:\"PICO-8\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:306,columnNumber:70},this),\". Even with the lo-fi, 80's era constraints, I found that the core problems\\u2014like game design and event modelling\\u2014are still timeless.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:306,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With a bit of work, I think it'd be possible to implement a more Pokemon-like RPG in PICO-8, but probably on a smaller scale, because of the memory and size limits (I was almost at 30% capacity with just this).\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:308,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"At some point though, dealing with over 1,000 lines of code in a single \",(0,t.jsxDEV)(n.code,{children:\"lua\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:310,columnNumber:73},this),\" run-time becomes unwieldy. So whilst something like \",(0,t.jsxDEV)(n.a,{href:\"https://unity.com/\",children:\"Unity\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:310,columnNumber:131},this),\" is better suited for serious projects, PICO-8 is still a great way to learn and prototype ideas.\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:310,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.blockquote,{children:[`\n`,(0,t.jsxDEV)(n.p,{children:[\"Wolfhunter's \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/pixegami/wolfhunter\",children:\"source code\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:312,columnNumber:16},this),\" is public, and you can play the game directly in the browser (both web and mobile) \",(0,t.jsxDEV)(n.a,{href:\"https://pixegami.github.io/wolfhunter/\",children:\"here\"},void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:312,columnNumber:153},this),\".\"]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:312,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:312,columnNumber:1},this)]},void 0,!0,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\",lineNumber:1,columnNumber:1},this)}function xn(s={}){let{wrapper:n}=s.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},s,{children:(0,t.jsxDEV)(Ae,s,void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\"},this)}),void 0,!1,{fileName:\"C:\\\\Users\\\\Kofi Amejro\\\\Desktop\\\\mdx-content-blog\\\\content\\\\_mdx_bundler_entry_point-e18d94fd-ef52-40bc-b6df-6953d0244de5.mdx\"},this):Ae(s)}var Nn=xn;return hn(gn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "wolfhunter.md",
  "_raw": {
    "sourceFilePath": "wolfhunter.md",
    "sourceFileName": "wolfhunter.md",
    "sourceFileDir": ".",
    "contentType": "markdown",
    "flattenedPath": "wolfhunter"
  },
  "type": "Post",
  "slug": "wolfhunter",
  "url": "/blog/wolfhunter",
  "image": "/wolfhunter.jpg"
}